/**
 * Webkul Software.
 *
 * @category  Webkul
 * @package   Webkul_MultiWishlist
 * @author    Webkul
 * @copyright Copyright (c) Webkul Software Private Limited (https://webkul.com)
 * @license   https://store.webkul.com/license.html
 */
define(
    [
    "jquery",
    "dexie"
    ], function ($, Dexie) {
        "use strict";

        var version = {};
        var dbVersion = 1;
        var db = new Dexie("multiwishlist_guest");

        // indexed db schema definition 
        db.version(1).stores(
            {
                userData : "id, sessionKey",
                wishlistData : "++id, productId, data"
            }
        );

        db.version(2).stores(
            {
                userData : "id, sessionKey",
                wishlistData : "++id, productId, data, wishlistNameId",
                wishlistName : "++id, wishlistName"
            }
        );

        db.open().catch(
            function (e) {
                console.error("Open failed: " + e.stack);
            }
        );
       
        return db;
    }
);